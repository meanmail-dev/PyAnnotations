<idea-plugin url="https://meanmail.dev">
    <id>ru.meanmail.plugin.pyannotations</id>
    <name>Python Annotations</name>
    <version>SNAPSHOT</version>
    <idea-version since-build="173"/>
    <vendor email="plugin@meanmail.dev" url="https://meanmail.dev">meanmail.dev</vendor>
    <description><![CDATA[
<h2>Smart Code Inspections for Python Type Annotations</h2>

<p>Simplify, modernize, and validate your Python type hints with <b>21 intelligent inspections</b> and one-click quick fixes.</p>

<h3>Union & Optional Simplification</h3>
<ul>
    <li><code>Union[int, None]</code> → <code>Optional[int]</code></li>
    <li><code>Union[X, object]</code> → <code>object</code></li>
    <li><code>Union[X, Any]</code> → <code>Any</code></li>
    <li><code>Union[dict]</code> → <code>dict</code></li>
    <li><code>Optional[Optional[X]]</code> → <code>Optional[X]</code></li>
    <li><code>Union[int, int, str]</code> → <code>Union[int, str]</code> (remove duplicates)</li>
    <li><code>Union[int, bool]</code> → <code>int</code> (bool is subtype of int)</li>
    <li><code>Union[Union[A, B], C]</code> → <code>Union[A, B, C]</code> (flatten nested)</li>
    <li>Detect invalid <code>Union[]</code></li>
</ul>

<h3>Modern Pipe Syntax (Python 3.10+)</h3>
<ul>
    <li><code>X | object</code> → <code>object</code></li>
    <li><code>X | Any</code> → <code>Any</code></li>
    <li><code>(X | Y) | Z</code> → <code>X | Y | Z</code></li>
    <li><code>(X) | Y</code> → <code>X | Y</code></li>
</ul>

<h3>Syntax Conversion (disabled by default)</h3>
<ul>
    <li><b>Modernization:</b> <code>Union[X, Y]</code> → <code>X | Y</code>, <code>Optional[X]</code> → <code>X | None</code></li>
    <li><b>Backward compatibility:</b> <code>X | Y</code> → <code>Union[X, Y]</code></li>
    <li><b>PEP 585:</b> <code>List[int]</code> → <code>list[int]</code></li>
    <li><b>PEP 695:</b> <code>TypeAlias</code> → <code>type</code> statement</li>
</ul>

<h3>Advanced Inspections (disabled by default)</h3>
<ul>
    <li>Missing <code>Optional</code> for parameters with <code>None</code> default</li>
    <li>Simplify <code>Callable[..., Any]</code> → <code>Callable</code></li>
    <li>Redundant <code>Generic[T]</code> in class definitions</li>
    <li>Unbound TypeVar (used only once)</li>
    <li>Protocol methods without type annotations</li>
</ul>

<p><a href="https://github.com/meanmail-dev/PyAnnotations">GitHub</a> | <a href="https://github.com/meanmail-dev/PyAnnotations/issues">Report Issue</a></p>
]]></description>
    <change-notes><![CDATA[
<h3>2026.1 (January 18, 2026)</h3>
<p><b>Major update with 16 new inspections!</b></p>

<h4>New: Pipe Syntax Support (Python 3.10+)</h4>
<ul>
    <li><code>X | object</code> → <code>object</code></li>
    <li><code>X | Any</code> → <code>Any</code></li>
    <li>Flatten nested pipe unions: <code>(X | Y) | Z</code> → <code>X | Y | Z</code></li>
    <li>Remove redundant parentheses: <code>(X) | Y</code> → <code>X | Y</code></li>
</ul>

<h4>New: Syntax Conversion</h4>
<ul>
    <li>Convert <code>Union[X, Y]</code> → <code>X | Y</code> (modernization)</li>
    <li>Convert <code>Optional[X]</code> → <code>X | None</code> (modernization)</li>
    <li>Convert <code>X | Y</code> → <code>Union[X, Y]</code> (backward compatibility)</li>
    <li>Convert <code>X | None</code> → <code>Optional[X]</code> (backward compatibility)</li>
    <li>Convert <code>List[X]</code>, <code>Dict[K, V]</code>, etc. to built-in generics (PEP 585)</li>
    <li>Convert <code>TypeAlias</code> to <code>type</code> statement (PEP 695)</li>
</ul>

<h4>New: Additional Union Inspections</h4>
<ul>
    <li>Remove duplicate types: <code>Union[int, int, str]</code> → <code>Union[int, str]</code></li>
    <li>Remove subtypes: <code>Union[int, bool]</code> → <code>int</code></li>
    <li>Flatten nested Unions: <code>Union[Union[A, B], C]</code> → <code>Union[A, B, C]</code></li>
    <li>Detect invalid empty Union</li>
</ul>

<h4>New: Advanced Inspections</h4>
<ul>
    <li>Missing <code>Optional</code> for parameters with <code>None</code> default</li>
    <li>Simplify <code>Callable[..., Any]</code></li>
    <li>Redundant <code>Generic[T]</code> in class definitions</li>
    <li>Unbound TypeVar detection</li>
    <li>Protocol methods without annotations</li>
</ul>

<h4>Improvements</h4>
<ul>
    <li>Improved error handling in all quick fixes</li>
    <li>Better logging for debugging</li>
    <li>Package migrated to <code>dev.meanmail</code></li>
</ul>

<h3>2025.1 (August 5, 2025)</h3>
<ul>
    <li>Added RedundantOptionalInspection</li>
    <li>Added AnyInUnionInspection</li>
    <li>Updated to support IDE version 2025.1</li>
</ul>

<h3>2022.2 (December 25, 2022)</h3>
<ul>
    <li>Fix: deprecated constructor warning</li>
</ul>

<h3>2022.1 (October 16, 2022)</h3>
<p>Update IDE build</p>

<h3>2021.2 (July 30, 2021)</h3>
<p>Update IDE build</p>

<h3>2020.1 (April 19, 2020)</h3>
<p>Update IDE build</p>

<h3>2019.1.3 (December 04, 2019)</h3>
<ul>
    <li>Version for IntelliJ 2019.3.*</li>
    <li>jvmTarget 11</li>
</ul>

<h3>2019.1.2 (July 28, 2019)</h3>
<p>Update IDE build</p>

<h3>2019.1.1 (March 29, 2019)</h3>
<p>Update IDE build</p>

<h3>0.1 (March 01, 2019)</h3>
<p>First version</p>
]]></change-notes>

    <depends>com.intellij.modules.lang</depends>
    <depends optional="true" config-file="python-config.xml">com.intellij.modules.python</depends>

    <extensions defaultExtensionNs="com.intellij">
        <errorHandler implementation="com.intellij.diagnostic.JetBrainsMarketplaceErrorReportSubmitter"/>
    </extensions>
</idea-plugin>
